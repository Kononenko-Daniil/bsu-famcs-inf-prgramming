# Как писать простые тесты для ваших решений на контрольной? Пошаговая инструкция

Итак, контрольная будет представлена в том формате, в котором сейчас представлены задачи в `bsu-cpp-2023-fall` (задачи первой группы). То есть примерно так **(это лишь предположение автора)**:
 - В вашем репозитории будет папка `control work`
 - В этой папке будут папки `task-1`, `task-2` и т.д.
 - В каждо из папок задания будут: файл сборки, задача, `task.h`, `test.cpp`

Наибольший интерес для нас представляют последние 2 файла.
 - `task.h` - заголовочный файл (теоритически таких может быть несколько, тогда будет описано в тексте задания где и что можно менять). В этом файле вы будете писать свои функции, которые будут что-то делать (скорее всего будет дана одна основная с заданной сигнатурой, которую нужно будет заполнить **(сигнатуру не менять!!!)**). Все функции нужно делать `inline` (пример: `inline int64_t Sum(int32_t a, int32_t b)`)
 - `test.cpp` - файл с тестами. Он скорее всего будет заранее создан и его нужно будет просто наполнить (ну или он уже будет заполнен). Если в задаче прописано: *"Это задача с приватными тестами"* - то это значит, что локально протестировать свое решение вы не сможете по заранее подготовленным тестам (как `00_test/sum`), вам придется написать их самостоятельно.

### Собственно пошаговый гайд

1. Проверяем то что подключены файлы, в которых лежат функции, которые мы хотим протестировать. Например: у вас есть файл `sum.h`, тогда в заголовке `test.cpp` должно быть `#include <sum.h>` - это позволит нам вызывать реализованные в нем функции (например `inline int64_t Sum(int32_t a, int32_t b)`)
2. Пишем тесты. Для этого создаем `TEST_CASE("Название соответствующее тому что вы хотите тестировать")`. `TEST_CASE` - это условный контейнер, в котором вы будете осуществлять проверку работы функции. Обычно `TEST_CASES` разделяются в зависимости от того что в нем тестируется (например: `Sum_Simple`, `Sum_Big`, `Sum_LongLong` - примеры названия тестов, которые говорят про то, что делает тест-кейс).
3. Каждый `TEST_CASE` может содержать несколько проверок. Основные функции, которые 100% понадобятся это:
 - `REQUIRE(логическое выражение)` - проверяет верно ли логическое выражение переданное внутри. **Когда использовать?** - когда функция возвращает **НЕ** `bool`. **Пример** - `REQUIRE(4 == Sum(2, 2))`
 - `CHECK(значение bool)` - проверяет, что переданное значение **true**. **Когда использовать?** - когда функция возвращает `bool`. **Пример** - `CHECK(IsSimple(2))`
 - `CHECK_FALSE(значение bool)` - проверяет, что переданное значение **false**. **Когда использовать?** - когда функция возвращает `bool`. **Пример** - `CHECK_FALSE(IsSimple(4))`

Это основные функции. Больше примеров ищите непосредственно в задачах первой группы. Итоговый пример:
```c++
#include <catch.hpp>
#include <long_sum.h>

TEST_CASE("Your test") {
    /*
        Здесь при необходимости можно задавать необходимые 
        переменные, данные и т.д. (как в стандартном main())
    */
    REQUIRE("4" == LongSum("2", "2"));
    CHECK(IsSimple(2));
    CHECK_FALSE(IsSimple(4));
}
```

Вот и все -> Далее через консоль/внутринние инструменты IDE запускаем тесты -> они все проходят -> получаем 10 за КР)
